리팩토링 배경
---
리팩터링 장점 단점
+ 상태 전의 로직을 줄이거나 없앨 수 있다
+ 복잡한 상태 전이 로직이 단순해 진다
+ 상태 전의 로직을 더 쉽게 알아볼 수 있게 된다.
- 원래의 상태 전의 로직이 이해하기 복잡하지 않다면 괜히 디자인만 복잡하게 할 뿐이다.

#####프로그램의 두 종류의 가치.
1. 당장을 위하여.
>- 벅그 픽스
>- 기능 추가
>- 기능을 더 많게 하여 더 유용하게 만드는 것.

2. 다음을 위한 것.
>- 어떤 내용이 추가 될지 모르기 때문에 상시 대응 준비.

#####요인
- 프로그램에 대한 작업을 어렵게 하는 요인
>- 읽기 어려운 프로그램은 수정하기 어렵다.
>- 중복된 로직을 가지고 있는 프로그램은 수정하기 어렵다.
>- 실행 중인 코드를 변경해야 하는 특별한 동작을 요구하는 프로그램은 수정하기 어렵다.
>- 복잡한 조건문이 포함된 프로그램은 수정하기 어렵다

#####정의
1. 명사적 정의
- 소프트웨어를 보다 쉽게 이해할 수 있고, 적은 비용으로 수정 할 수 있도록 겉으로 보이는 동작의 변화없이 내부 구조를 변경하는것
- 기본적으로 조금씩 변경하는 것
2. 동사형 정의
>- 일련의 리팩토링을 적용하여 겉으로 보이는 동작의 변화없이 소프트웨어의 구조를 바꾼다.
3. 다음 방법으로 동작의 변경 여부를 검증
>- **테스팅**
>- **최대한 개발 Tool의 지원 이용**

#####리팩토링의 이유
1. 프로그램을 빨리 개발, 이해하도록 도와준다.
>- 명확하게 구분 분석이 빠름.
2. 방법
>- 디자인 패턴 적용
>- 행위의 정확한 이름으로 명확한 정체성 제공.
>- 중복된 내용을 축출 가독성 높임.

**리팩토링은 소프트웨어를 더 이해하기 쉽게 만듬**

#####언제 리팩토링을 해야 하는가?

1. 틈틈이 계속 -> 리팩토링 제체가 목적이 아닌 다음 작업을 위해 리팩토링을 하는 것.
2. 삼진 규칙
3. 기능을 추가할 때 리팩토링 -> 코드에 대한 이해를 돕기위해
4. 버그를 수정할 때 리팩토링 하라. -> 버그가 있다는 만큼 코드가 명확하지 않다는 뜻이다.
5. 코드리뷰 할 때 리팩토링 하라.
>- 검토자와 원작자는 상호협의하에 리팩토링을 결정합니다.
 

#####코드 악취
1. 중복된 코드가 있거나
2. 코드의 의미가 명확하지 않거나

#####나쁜 설계의 냄새

7가지로 설명 

* 경직성 - 무엇이든 하나를 바꿀 때마다 반드시 다른 것도 바꿔야 하며, 그러고 나면 또 다른 것도 바꿔야 하는 변화의 사슬이 끊이지 않기 대문에 시스템을 변경하기 어렵다.

* 부서지기 쉬움 - 시스템에서 한 부분을 변경하면 그것과 전혀 상관없는 다른 부분이 작동을 멈춘다.( 바보같은 말이지만, 상관 있는 부분은 당연히 변경해야 한다.)

* 부동성 - 시스템을 여러 컴포넌트로 분해해서 다른 시스템에 재사용하기 힘들다.

* 끈끈함 - 개발 환경이 배관용 테이프나 풀로 붙인 것처럼 꽉 달라붙은 상태다. 편집-컴파일-테스트 순환을 한 번 도는 시간이 엄청나게 길다.

* 쓸데 없는 복잡함(과도한 디자인) - 괜히 머리를 굴려서 짠 코드 구조가 굉장히 많다. 이것들은 대개 지금 당장 하나도 필요 없지만 언젠가는 굉장히 유용할지도 모른다고 기대하고 만들었다.

* 필요 없는 반복 - 코드를 작성한 프로그래머 이름이 마치 '복사'와 '붙여넣기'같다.

* 불투명함 - 코드를 만든 의도에 대한 설명을 볼 때 그 설명에 '표현이 꼬인다'. 라는 말이 잘 어울린다.

로버트 c마틴은 5원칙을 solid 라고 합니다.


리팩토링에 1권에는 많은 디자인패턴을 제공하고 내용 구성을 법칙으로 설명하지만

패턴을 활용한 리팩터링에서는 패턴중독에 대하여 설명하고 있습니다.

extract method
https://wikidocs.net/608
